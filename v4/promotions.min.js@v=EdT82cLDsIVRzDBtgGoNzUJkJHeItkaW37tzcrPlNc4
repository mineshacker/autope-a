function passCard(){if(!isProcessing){isProcessing=!0;disableButtons();carousel.classList.add("sliding-transition");currentIndexPromotions=(currentIndexPromotions+1)%totalItems;let n=items[0].getBoundingClientRect().width*scale;carousel.style.transform=`translateX(-${n}px)`;setTimeout(()=>{carousel.appendChild(items[(currentIndexPromotions-1+totalItems)%totalItems]),carousel.classList.remove("sliding-transition"),carousel.style.transform="",enableButtons(),isProcessing=!1},500);updateMiddleClass()}}function returnCard(){if(!isProcessing){isProcessing=!0;disableButtons();currentIndexPromotions=(currentIndexPromotions-1+totalItems)%totalItems;let n=items[0].getBoundingClientRect().width*scale;carousel.style.transform=`translateX(-${n}px)`;carousel.insertBefore(items[currentIndexPromotions],carousel.firstChild);setTimeout(()=>{carousel.style.transform="",carousel.classList.add("sliding-transition")},10);setTimeout(()=>{carousel.classList.remove("sliding-transition"),enableButtons(),isProcessing=!1},490);updateMiddleClass()}}const scale=1.2,items=document.querySelectorAll(".carousel-item"),carousel=document.querySelector(".carousel"),leftArrow=document.querySelector(".left-arrow"),rightArrow=document.querySelector(".right-arrow");let currentIndexPromotions=0;const totalItems=items.length;let startX,isProcessing=!1;document.addEventListener("DOMContentLoaded",()=>{updateMiddleClass()});const updateMiddleClass=()=>{items.forEach(n=>n.classList.remove("middle"));items.forEach(n=>n.classList.remove("corner"));let n=(currentIndexPromotions+1)%totalItems;items[n].classList.add("middle");items[n+1].classList.add("corner");items[n-1].classList.add("corner")},disableButtons=()=>{leftArrow.disabled=!0,rightArrow.disabled=!0},enableButtons=()=>{leftArrow.disabled=!1,rightArrow.disabled=!1};leftArrow.addEventListener("click",()=>returnCard());rightArrow.addEventListener("click",()=>passCard());const handleTouchStart=n=>{startX=n.touches[0].clientX},handleTouchMove=n=>{if(startX){const t=n.touches[0].clientX-startX;Math.abs(t)>50&&(t>0?returnCard():passCard(),startX=null)}};carousel.addEventListener("touchstart",handleTouchStart,{passive:!0});carousel.addEventListener("touchmove",handleTouchMove,{passive:!0});